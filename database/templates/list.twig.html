<html>
    <body>
        <H1>List</H1>
        <div>
            <a href="create.php">Create New</a>
        </div>
        <div>
            <form method="get" action="list.php">
                <input type="text" name="search_task" value="{{ search_task }}" />
                <select name="search_status">
                    <option value="" {% if search_status == '' %}selected{% endif %}>Any</option>
                    <option value="todo" {% if search_status == 'todo' %}selected{% endif %}>Todo</option>
                    <option value="inprogress" {% if search_status == 'inprogress' %}selected{% endif %}>In Progress</option>
                    <option value="done" {% if search_status == 'done' %}selected{% endif %}>Done</option>
                </select>
                <input type="submit" value="filter" />
            </form>
        </div>
        <table>
            <tr>
                <th>ID</th>
                <th>Task</th>
                <th>Status</th>
                <th>Created At</th>
                <th>Updated At</th>
                <th>&nbsp;</th>
            </tr>
            {% for row in rows %}
            <tr>
                <td>{{ row.id }}</td>
                <td>{{ row.task }}</td>
                <td>{{ row.status }}</td>
                <td>{{ row.created_at }}</td>
                <td>{{ row.updated_at }}</td>
                <td><a href="view.php?id={{ row.id }}">View</a></td>
                <td><a href="edit.php?id={{ row.id }}">Edit</a></td>
            </tr>
            {% endfor %}
        </table>
        <p>{{ rows_count }} row(s)</p>
    </body>
</html>